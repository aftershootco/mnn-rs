<!-- <!DOCTYPE html> -->
<!-- <html lang="en"> -->
<!---->
<!-- <head> -->
<!--     <meta charset="UTF-8"> -->
<!--     <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
<!--     <title>WebAssembly Example</title> -->
<!-- </head> -->
<!---->
<!-- <body> -->
<!--     <h1>WebAssembly Example</h1> -->
<!--         <button onclick="test_bench()">Run</button> -->
<!--     <script src="runner.js" type="module"> -->
<!--     </script> -->
<!-- </body> -->
<!---->
<!-- </html> -->
<html>

<head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
    <!-- Note the usage of `type=module` here as this is an ES6 module -->
    <h1>WebAssembly Example</h1>
    <button onclick=test_bench>Run</button>
    <script type="module">
        var model = axios.get("/nobrainerf16.mnn", {
            responseType: "arraybuffer",
        });
        const model_buffer = new Uint8Array(model.data);
        // Use ES module import syntax to import functionality from the module
        // that we have compiled.
        //
        // Note that the `default` import is an initialization function which
        // will "boot" the module and make it ready to use. Currently browsers
        // don't support natively imported WebAssembly as an ES module, but
        // eventually the manual initialization won't be required!
        console.log("Hello from index.html");
        import init, {test_bench} from './runner.js';
        console.log("waiting for init");
        init("./runner_bg.wasm");
        console.log("waiting for test_bench");
        test_bench(model_buffer);
        console.log("Hello from index.html");

    </script>
</body>

</html>
